<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link href="resources/css/default.css" rel="stylesheet" type="text/css" />
        <link href="resources/css/cssLayout.css" rel="stylesheet" type="text/css" />
        <title>Prijava.</title>
    </h:head>

    <h:body>

        <div id="top">
            <ui:insert name="top">Nova prijava.</ui:insert>
        </div>

        <div id="content" class="center_content">
                <h:form>
                    <table class="table">
                        <tr>
                            <th class="fc"> AMZS clan: </th>
                            <th>
                                <h:selectOneRadio id="clan" value="#{indexPresenter.prijava.clan}">
                                    <f:selectItem id="item1" itemLabel="Da." itemValue="Da" />
                                    <f:selectItem id="item2" itemLabel="Ne." itemValue="Ne" />
                                </h:selectOneRadio>
                            </th>
                        </tr>
                        <tr>
                            <th class="fc"> Clanska stevilka: </th>
                            <th> <h:inputText value="#{indexPresenter.prijava.clanska_st}" /> </th>
                        </tr>
                        <tr>
                            <th class="fc"> Ime: </th>
                            <th> <h:inputText value="#{indexPresenter.prijava.ime}" /> </th>
                        </tr>
                        <tr>
                            <th class="fc"> Priimek: </th>
                            <th> <h:inputText value="#{indexPresenter.prijava.priimek}" /> </th>
                        </tr>
                        <tr>
                            <th class="fc"> Znamka in model avtomobila: </th>
                            <th>    
                                <p:selectOneMenu id="brand" value="#{indexPresenter.inputBrand}">
                                    <f:selectItem itemLabel="Izberi znamko avtomobila" itemValue="" /> 
                                    <f:selectItems value="#{indexPresenter.carBrand}" />
                                    <p:ajax update="model" listener="#{indexPresenter.handleBrandChange()}"/>
                                </p:selectOneMenu>
                                
                                <p:selectOneMenu id="model" value="#{indexPresenter.prijava.znamka}">
                                    <f:selectItem itemLabel="Izberi model avtomobila" itemValue="" /> 
                                    <f:selectItems value="#{indexPresenter.modelL}"/>
                                </p:selectOneMenu>
                            </th>
                        </tr>
                        <tr>
                            <th> Tip avtomobila: </th>
                            <th>    
                                <p:selectOneMenu id="type" value="#{indexPresenter.prijava.tip}">
                                    <f:selectItem itemLabel="Izberi tip avtomobila" itemValue="" /> 
                                    <f:selectItems value="#{indexPresenter.carBodyTypeStrings()}"/>
                                </p:selectOneMenu>
                            </th>
                        </tr>
                        <tr>
                            <th class="fc"> Registrska stevilka: </th>
                            <th> <h:inputText value="#{indexPresenter.prijava.registrska}" /> </th>
                        </tr>
                        
                        <tr>
                            <th class="fc"> Okvara: </th>
                            <th>
                                <p:selectOneMenu id="grandparent" value="#{indexPresenter.grandparent}">
                                    <f:selectItem itemLabel="Izberi dogodek" itemValue="" /> 
                                    <f:selectItems value="#{indexPresenter.parent2_malfL}"/>
                                    <p:ajax update="parent_malf" listener="#{indexPresenter.handleGrandparentChange}"/>
                                </p:selectOneMenu>
                                
                                <p:selectOneMenu id="parent_malf" value="#{indexPresenter.parent}">
                                    <f:selectItem itemLabel="Izberi dogodek" itemValue="" /> 
                                    <f:selectItems value="#{indexPresenter.parent_malfL}"/>
                                    <p:ajax update="malfunction" listener="#{indexPresenter.handleParentChange}"/>
                                </p:selectOneMenu>
                                
                                <p:selectOneMenu id="malfunction" value="#{indexPresenter.malfunction}">
                                    <f:selectItem itemLabel="Izberi dogodek" itemValue="" /> 
                                    <f:selectItems value="#{indexPresenter.malfunctionL}"/>
                                </p:selectOneMenu>
                            </th>
                        </tr>
                        
                        <tr>
                            <th> </th>
                            <th class="fc"> <h:commandButton value="Vnesi" action="#{indexPresenter.asserting()}" /> </th> 
                        </tr>
                    </table>
                </h:form>
        </div>
    </h:body>
</html>
