<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link href="resources/css/default.css" rel="stylesheet" type="text/css" />
        <link href="resources/css/cssLayout.css" rel="stylesheet" type="text/css" />
        <title>New application.</title>
    </h:head>

    <h:body>

        <div id="top">
            <ui:insert name="top">New application.</ui:insert>
        </div>

        <div id="content" class="center_content">
                <h:form>
                    <table class="table">
                        <tr>
                            <th class="fc"> AMZS member: </th>
                            <th>
                                <h:selectOneRadio id="clan" value="#{responsePresenter.prijava.clan}">
                                    <f:selectItem id="item1" itemLabel="Yes." itemValue="Da" />
                                    <f:selectItem id="item2" itemLabel="No." itemValue="Ne" />
                                </h:selectOneRadio>
                            </th>
                        </tr>
                        <tr>
                            <th class="fc"> Member ID: </th>
                            <th> <h:inputText value="#{responsePresenter.prijava.clanska_st}" /> </th>
                        </tr>
                        <tr>
                            <th class="fc"> Name: </th>
                            <th> <h:inputText value="#{responsePresenter.prijava.ime}" /> </th>
                        </tr>
                        <tr>
                            <th class="fc"> Surname: </th>
                            <th> <h:inputText value="#{responsePresenter.prijava.priimek}" /> </th>
                        </tr>
                        <tr>
                            <th class="fc"> Car brand and model: </th>
                            <th>    
                                <p:selectOneMenu id="brand" value="#{responsePresenter.inputBrand}">
                                    <f:selectItem itemLabel="Choose brand" itemValue="" /> 
                                    <f:selectItems value="#{responsePresenter.carBrand}" />
                                    <p:ajax update="model" listener="#{responsePresenter.handleBrandChange()}"/>
                                </p:selectOneMenu>
                                
                                <p:selectOneMenu id="model" value="#{responsePresenter.prijava.znamka}">
                                    <f:selectItem itemLabel="Choose model" itemValue="" /> 
                                    <f:selectItems value="#{responsePresenter.modelL}"/>
                                </p:selectOneMenu>
                            </th>
                        </tr>
                        <tr>
                            <th class="fc"> Car type: </th>
                            <th>    
                                <p:selectOneMenu id="type" value="#{responsePresenter.prijava.tip}">
                                    <f:selectItem itemLabel="Choose type" itemValue="" /> 
                                    <f:selectItems value="#{responsePresenter.carBodyTypeStrings()}"/>
                                </p:selectOneMenu>
                            </th>
                        </tr>
                        <tr>
                            <th class="fc"> Registration number: </th>
                            <th> <h:inputText value="#{responsePresenter.prijava.registrska}" /> </th>
                        </tr>
                        
                        <tr>
                            <th class="fc"> Event: </th>
                            <th>
                                <p:selectOneMenu id="grandparent" value="#{responsePresenter.grandparent}">
                                    <f:selectItem itemLabel="Choose event" itemValue="" /> 
                                    <f:selectItems value="#{responsePresenter.parent2_malfL}"/>
                                    <p:ajax update="parent_malf" listener="#{responsePresenter.handleGrandparentChange}"/>
                                </p:selectOneMenu>
                                
                                <p:selectOneMenu id="parent_malf" value="#{responsePresenter.parent}">
                                    <f:selectItem itemLabel="Choose event" itemValue="" /> 
                                    <f:selectItems value="#{responsePresenter.parent_malfL}"/>
                                    <p:ajax update="malfunction" listener="#{responsePresenter.handleParentChange}"/>
                                </p:selectOneMenu>
                                
                                <p:selectOneMenu id="malfunction" value="#{responsePresenter.malfunction}">
                                    <f:selectItem itemLabel="Choose event" itemValue="" /> 
                                    <f:selectItems value="#{responsePresenter.malfunctionL}"/>
                                </p:selectOneMenu>
                            </th>
                        </tr>
                        
                        <tr>
                            <th> </th>
                            <th class="fc"> <h:commandButton value="Vnesi" action="#{responsePresenter.asserting()}" /> </th> 
                        </tr>
                    </table>
                </h:form>
        </div>
    </h:body>
</html>
